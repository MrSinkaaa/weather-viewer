<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link th:href="@{/styles/weather.css}" rel="stylesheet" type="text/css">
    <title>Weather Viewer</title>
</head>
<body>
<div th:include="header.html"></div>
<!--<main class="row">
    <div th:unless="${param.city}" class="offset-md-5 col-md-2">
        <form action="/weather" method="post">
            <div class="m-2">
                <label for="city">City</label>
                <input type="text" id="city" name="city" class="form-control" placeholder="Enter city">
            </div>
            <button type="submit" class="btn btn-primary m-2">Submit</button>
        </form>
    </div>
    <div th:if="${param.city}" class="offset-md-3 col-md-7 mt-5 rounded-2">
        <div class="row">
            <div class="col-md-8" th:style="'background: url(' + @{/images/cloudy.jpg} + ') no-repeat;'">
                <div class="row p-1 m-3 rounded-2">
                    <div class="fw-bold h4 mb-3 col-md-8">Current weather</div>
                    <div class="fw-bold h4 col-md-4 mb-3"><span th:text="${weather.city}"></span>
                        <span th:text="(${weather.country})"></span>
                    </div>
                    <div class="h2 col-md-8"><span th:text="${weather.temperature}"></span></div>
                    <div class="col-md-4">
                        <div class="fw-bold">Lon: <span th:text="${weather.longitude}"></span></div>
                        <div class="fw-bold">Lat: <span th:text="${weather.latitude}"></span></div>
                    </div>
                    <div class="h3 mb-2">Cloudy</div>
                    <div class="col-md-3">
                        <div class="fw-bold">Wind: <span th:text="${weather.windSpeed}"></span> km/h</div>
                    </div>
                    <div class="col-md-3">
                        <div class="fw-bold">Humidity: <span th:text="${weather.humidity}"></span>%</div>
                    </div>
                    <div class="col-md-3">
                        <div class="fw-bold">Visibility: <span th:text="${weather.visibility}"></span></div>
                    </div>
                    <div class="col-md-3">
                        <div class="fw-bold">Pressure: <span th:text="${weather.pressure}"></span> mb</div>
                    </div>
                    <div class="col-md-12">
                        <div class="weather-header mt-3">Sun (Dec 9)</div>
                        <div class="col-md-8 offset-md-3">
                            <div class="fw-bold">Sunrise: <span th:text="${weather.sunrise}"></span></div>
                        </div>
                        <div class="col-md-8 offset-md-3">
                            <div class="fw-bold">Sunset: <span th:text="${weather.sunset}"></span></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>-->

<main class="container-fluid weather-body">
    <div class="row">
        <div class="offset-2 col-4">
            <div class="mt-2">
                <form action="/weather" method="post">
                    <label>
                        <input class="weather-input" name="city" type="search" placeholder="Search for a location"/>
                    </label>
                </form>
            </div>
            <div class="d-flex justify-content-between weather-info">
                <div class="d-flex flex-column justify-content-between ms-5 mt-4">
                    <h2 class="weather-city d-flex justify-content-center align-items-center">
                        <span th:text="${weather.city}"/>
                        <form th:action="${'/location'}" th:method="post" th:object="${weather}">
                            <button class="btn-none">
                                <img src="../images/add-btn.png" alt="" width="40" height="40"/>
                            </button>
                        </form>
                    </h2>
                    <h3 class="weather-temperature pb-4">
                        <span th:text="${weather.temperature}"/>
                        &deg;C
                    </h3>
                </div>
                <img th:src="${'../images/' + weather.weatherCode.getIcon()}" alt="" width="240px" height="240px"/>
            </div>
            <div class="weather-card">
                <h4 class="weather-card-header p-3">Air Quality</h4>
                <div class="weather-card-body ps-5">
                    <div class="weather-card-item">
                        <span class="weather-icon">
                            <img src="../images/thermometer-celsius.svg" alt="" width="36px" height="36px"/>
                            Real feel
                        </span>
                        <div class="weather-icon-text">
                            <span th:text="${weather.feelsLike}"></span>
                            &deg;C
                        </div>
                    </div>
                    <div class="weather-card-item">
                        <span class="weather-icon">
                            <img src="../images/wind.svg" alt="" width="36px" height="36px"/>
                            Wind
                        </span>
                        <div class="weather-icon-text">
                            <span th:text="${weather.windSpeed}"></span>
                            km/h
                        </div>
                    </div>
                    <div class="weather-card-item">
                        <span class="weather-icon">
                            <img src="../images/humidity.svg" alt="" width="36px" height="36px"/>
                            Humidity
                        </span>
                        <div class="weather-icon-text">
                            <span th:text="${weather.humidity}"></span>
                            %
                        </div>
                    </div>
                    <div class="weather-card-item">
                        <span class="weather-icon">
                            <img src="../images/barometer.svg" alt="" width="36px" height="36px"/>
                            Pressure
                        </span>
                        <div class="weather-icon-text">
                            <span th:text="${weather.pressure}"></span>
                            mb
                        </div>
                    </div>
                </div>
            </div>
            <div class="weather-card mt-3">
                <h4 class="weather-card-header p-3">Sun & Moon</h4>
                <div class="weather-card-body">
                    <div class="sun-times">
                        <div class="sun-path">
                            <div class="sun-animation"></div>
                        </div>
<!--                        <div class="sun-symbol-path"><span class="symbol">â˜€</span></div>-->
                    </div>
                    <div class="legend">
                        <div class="sunrise">5:30 AM</div>
                        <div class="sunset">8:04 PM</div>
                    </div>
                    <div class="clear">&nbsp;</div>
                </div>
            </div>
        </div>
        <div class="offset-2 col-3">
            <div class="searched">
                <h4 class="weather-card-header p-3">Saved Locations</h4>
                <div th:if="${savedLocations}">
                    <div th:each="location : ${savedLocations}">
                        <div class="searched-card">
                            <h3 th:text="${location.name}"></h3>
                            <div class="searched-icon-text">
                                <img th:src="${'../images/' + location.weatherCode.getIcon()}" alt="" width="80px" height="80px"/>
                            </div>
                            <div class="searched-icon-temp" th:text="${location.temperature}">&deg;C</div>
                            <form th:action="@{/location}" th:method="delete">
                                <button class="btn-none">
                                    <img src="../images/delete-btn.svg" alt="" width="40px" height="40px"/>
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
                <div th:unless="${savedLocations}">
                    <h3>Not found saved locations..</h3>
                </div>
            </div>
        </div>
    </div>
</main>
</body>
</html>